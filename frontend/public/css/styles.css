/* XImóveis - Base Styles */
:root {
  --bg: #f6f7f9;
  --surface: #ffffff;
  --border: #e7e9ec;
  --shadow: 0 6px 24px rgba(0,0,0,0.08);
  --fg: #0b1220;
  --muted: #6b7280;
  /* Paleta da logo (navy + laranja) */
  --primary: #0b2b45;
  --primary-600: #0a2740;
  --primary-700: #082136;
  --cta: #ff6b00;
  --cta-600: #e45f00;
  --accent: #fff1e8;
  --radius: 12px;
  --radius-sm: 10px;
  --ring: 0 0 0 3px rgba(255,107,0,0.25);
  /* Leaflet images base path */
  --leaflet-images-path: '/vendor/leaflet/images/';
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  color: var(--fg);
  background: var(--bg);
}

a { color: inherit; }
a:hover { opacity: 0.9; }

header {
  background: var(--primary);
  color: #fff;
  padding: 14px 18px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: sticky;
  top: 0;
  z-index: 2000; /* acima do Leaflet e overlays */
}
.logo { font-weight: 700; letter-spacing: 0.3px; }
header nav a { color: #fff; margin: 0 8px; text-decoration: none; padding: 8px 10px; border-radius: 8px; }
header nav a:hover { background: rgba(255,255,255,0.16); }
header nav a.active { background: rgba(255,255,255,0.22); }
header nav a:focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(255,255,255,0.35); }

.container { max-width: 1120px; margin: 16px auto; padding: 0 12px; }

.card, .search, .content, .filters, .panel {
  background: var(--surface);
  border-radius: var(--radius-sm);
  box-shadow: var(--shadow);
  padding: 12px;
}

/* Forms */
input[type="text"], input[type="email"], input[type="password"], input[type="number"], input[type="tel"], select {
  width: 100%;
  padding: 8px 10px;
  border: 1px solid var(--border);
  border-radius: 10px;
  background: #fff;
  color: var(--fg);
  transition: box-shadow .15s ease, border-color .15s ease;
}
input:focus, select:focus, button:focus { outline: none; box-shadow: var(--ring); border-color: #ffc4a1; }

button, .btn, .btn-outline {
  appearance: none;
  border: none;
  background: linear-gradient(180deg, #103651 0%, #0b2b45 100%);
  color: #fff;
  padding: 10px 14px;
  border-radius: 10px;
  cursor: pointer;
  transition: transform .05s ease, filter .15s ease;
}
button:hover, .btn:hover, .btn-outline:hover { filter: brightness(1.05); }
button:active, .btn:active, .btn-outline:active { transform: translateY(1px); }
.btn-cta { background: linear-gradient(180deg, #ff8a33 0%, var(--cta) 100%); color:#fff; box-shadow: 0 8px 22px rgba(255,107,0,.25); }
.btn-outline { background: #fff; color: var(--primary); border:1px solid var(--primary); }
.tab-btn { background:#fff; color:var(--primary); border:1px solid var(--primary); border-radius:8px; padding:8px 14px; font-weight:600; cursor:pointer; }
.tab-btn.active { background: var(--primary); color:#fff; border-color: var(--primary); }
.admin-panel.hidden { display:none; }
/* Icon button (round) */
.btn-icon { width: 44px; height: 44px; padding: 0; border-radius: 999px; display: inline-flex; align-items:center; justify-content:center; font-size: 18px; }

/* Home: search + layout */
.search form { display: grid; grid-template-columns: repeat(6, 1fr); gap: 8px; }
@media (max-width: 900px) { .search form { grid-template-columns: repeat(2, 1fr); } }

.layout { display: grid; grid-template-columns: 260px 1fr; gap: 16px; margin-top: 16px; }
@media (max-width: 900px) { .layout { grid-template-columns: 1fr; } }

.filters h3 { margin-top: 0; }
.filters label { display: block; font-size: 13px; color: var(--muted); margin-bottom: 4px; }
.filters > div { margin-bottom: 10px; }

.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px; }
.card { display: flex; flex-direction: column; overflow: hidden; border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,.08); }
.card img { width: 100%; height: 180px; object-fit: cover; background: #ddd; }
.card .body { padding: 10px; }
.card .title { font-weight: 700; margin-bottom: 4px; }
.card .meta { color: var(--muted); font-size: 0.92em; }
.card .actions { margin-top: 8px; display: flex; gap: 8px; }
.table-actions { display: inline-flex; gap: 8px; align-items: center; }
.table-actions .btn, .table-actions .btn-outline { margin: 0; }

/* Oculta ação de visualizar certidão no editar, a pedido */
#certInfo a, #certInfo button { display: none !important; }
.card .actions a { text-decoration: none; background: var(--primary); color: #fff; padding: 8px 10px; border-radius: 8px; font-size: 0.9em; }

footer { text-align: center; color: var(--muted); padding: 16px; }

/* Toolbar (map page) */
.toolbar { padding: 8px; background: #f8f8f8; border-bottom: 1px solid var(--border); display: flex; gap: 8px; position: sticky; top: 68px; z-index: 1200; }

/* Map specific heights */
.page-mapa #map { height: calc(100vh - 96px); }
.page-imovel #map { height: 320px; }

/* Força os controles do Leaflet a ficarem abaixo do header sticky */
.leaflet-top, .leaflet-bottom { z-index: 1000 !important; }
.leaflet-pane { z-index: 1; }

/* Tabs */
.tabs { display: flex; gap: 8px; margin-bottom: 8px; }
.tab { display: none; }
.tab.active { display: block; }

.history li { margin-bottom: 6px; }
.badge { display: inline-block; background: var(--accent); color: var(--primary); padding: 2px 6px; border-radius: 6px; margin-left: 6px; font-size: 0.85em; }

/* Admin */
table { width: 100%; border-collapse: collapse; margin-top: 12px; background: var(--surface); }
th, td { border-bottom: 1px solid var(--border); padding: 10px; text-align: left; }
thead th { font-weight: 700; color: #333; }

.row { display: flex; gap: 12px; align-items: center; }
.space-between { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
/* Oculta elementos marcados quando estiverem disabled (útil para Cidade até escolher UF) */
.hide-when-disabled:disabled { display: none !important; }
/* Em linhas de formulário, os campos expandem igualmente */
.row > input[type="text"],
.row > input[type="email"],
.row > input[type="password"],
.row > input[type="number"],
.row > select,
.row > textarea { flex: 1 1 0; }

/* Utilities */
.mt-1 { margin-top: 4px; } .mt-2 { margin-top: 8px; } .mt-3 { margin-top: 12px; }
.mb-1 { margin-bottom: 4px; } .mb-2 { margin-bottom: 8px; } .mb-3 { margin-bottom: 12px; }
.hidden { display: none !important; }
.sr-only { position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
.spinner { width:16px; height:16px; border:2px solid #fff; border-right-color: transparent; border-radius: 50%; display:inline-block; animation: spin .8s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

/* Itens protegidos ficam ocultos até o JS revelar conforme o papel */
.nav-auth, .nav-agent, .nav-admin { display: none; }

/* Small layout helpers */
.grid-2 { display:grid; grid-template-columns: 220px 1fr; gap:10px; align-items:center; }
.actions-right { text-align:right; }

/* Landing hero */
.hero-landing {
  position: relative;
  background: url('https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?q=80&w=2000&auto=format&fit=crop') center/cover no-repeat;
  color: #fff;
  padding: 72px 12px 120px;
}
.hero-landing .title {
  text-align: center;
  font-size: 44px;
  font-weight: 800;
  text-shadow: 0 2px 16px rgba(0,0,0,.35);
}
.hero-landing .search-wrap {
  max-width: 980px;
  margin: 16px auto 0;
  background: rgba(255,255,255,0.95);
  border-radius: 16px;
  padding: 12px;
  color: #111;
  box-shadow: 0 8px 28px rgba(0,0,0,0.18);
}
.pill-tabs { display:flex; gap:16px; padding:6px; }
.pill-tabs button {
  background:#f1f3f5; color:#111; border:none; padding:10px 14px; border-radius:10px; cursor:pointer;
}
.pill-tabs button.active { background:#fff; border:2px solid #ff6b00; color:#111; }
.pill-tabs button[disabled] { display: none; }
.hero-landing .searchbox { display:flex; gap:10px; align-items:center; margin-top:8px; }
.hero-landing .searchbox { flex-wrap: nowrap; }
.hero-landing select, .hero-landing input[type="text"] { height:44px; padding:10px 12px; border-radius:10px; border:1px solid #dfe3e6; }
.hero-landing .searchbox select { min-width: 220px; flex: 0 0 220px; }
.hero-landing .searchbox input[type="text"] { flex: 1 1 auto; min-width: 0; }
.hero-landing .cta { background: var(--cta); height:44px; padding:0 18px; border-radius:10px; font-weight:700; flex: 0 0 auto; }

/* Carousel (featured) */
.carousel { position: relative; }
.carousel-track { display: grid; grid-auto-flow: column; grid-auto-columns: 360px; gap: 18px; overflow: hidden; scroll-behavior: smooth; }
.carousel-btn {
  position: absolute; top: 50%; transform: translateY(-50%);
  background: var(--cta); color: #fff; border-radius: 999px; width: 36px; height: 36px;
  display: flex; align-items: center; justify-content: center; cursor: pointer;
  border: none; box-shadow: var(--shadow); z-index: 2;
}
.carousel-btn.prev { left: 8px; }
.carousel-btn.next { right: 8px; }
.carousel-btn[hidden] { display: none; }

/* Quick filters */
.chips { display:flex; flex-wrap:wrap; gap:8px; }
.chip { padding:6px 10px; border-radius: 999px; background:#f1f3f5; color:#111; cursor:pointer; border:1px solid #e6e6e6; }
.chip.active { background: var(--accent); border-color: var(--cta); color:#000; }

/* Order dropdown */
.order { position: relative; display:flex; align-items:center; gap:8px; }
.order-toggle {
  background:#fff; color:#111; border:1px solid var(--border); padding:8px 12px; border-radius:10px; cursor:pointer;
}
.order-toggle:focus{ box-shadow: var(--ring); border-color:#ffc4a1; }
.order-menu { position:absolute; top:120%; right:0; background:#fff; border:1px solid var(--border); border-radius:12px; box-shadow:0 16px 40px rgba(0,0,0,.15); min-width:220px; padding:6px; z-index: 1100; }
.order-menu.hidden { display:none; }
.order-item { display:block; width:100%; text-align:left; padding:8px 10px; border:none; background:#fff; border-radius:8px; cursor:pointer; }
.order-item:hover { background:#f6f7f8; }
.order-item.active { color: var(--primary); font-weight:700; }

/* Hero refinado */
.hero-landing { position: relative; background: linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.25)), url('https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?q=80&w=2000&auto=format&fit=crop') center/cover no-repeat; color:#fff; padding: 80px 12px 120px; }
.hero-landing .search-wrap { background: rgba(255,255,255,.95); border-radius: 16px; padding: 14px; box-shadow: 0 10px 30px rgba(0,0,0,.18); }
.hero-landing .title { font-size: 46px; font-weight: 800; text-shadow: 0 2px 16px rgba(0,0,0,.35); }

/* Busca: ordenar dropdown vis�vel e acima */
.order-menu { z-index: 3000; }
.order-item { color: #111; background:#fff; }
.order-item.active { font-weight:700; }
/* Placeholder de carregamento */
.loading { color:#6b7280; font-size:14px; padding:8px 0; }

/* Imóvel: galeria responsiva */
.gallery-hero { position: relative; overflow: hidden; }
.gallery-hero .cover-img {
  width: 100%;
  height: clamp(220px, 56vw, 460px);
  object-fit: cover;
  border-radius: 10px;
}
.gallery-hero .nav-btn { position:absolute; top:50%; transform:translateY(-50%); z-index:2; }
.gallery-hero .nav-btn.prev { left:8px; }
.gallery-hero .nav-btn.next { right:8px; }
.gallery-thumbs { display:flex; gap:8px; padding:8px 0; overflow:auto; margin-top:8px; flex-wrap: wrap; }
.gallery-thumbs img { width:86px; height:62px; object-fit:cover; border-radius:6px; cursor:pointer; border:1px solid var(--border); }

/* Imóvel: layout responsivo da seção principal */
.imovel-main { display:grid; grid-template-columns: 1fr 320px; gap:16px; align-items:start; }
@media (max-width: 980px) { .imovel-main { grid-template-columns: 1fr; } }


